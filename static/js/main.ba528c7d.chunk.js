(this.webpackJsonptasaciones_arancibia=this.webpackJsonptasaciones_arancibia||[]).push([[0],{69:function(e,t,c){},70:function(e,t,c){},86:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),i=c(26),r=c.n(i),s=(c(69),c(70),c(57)),j=c.n(s),d=c(2),o=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(j.a,{style:{color:"white",fontSize:55,marginTop:5,marginRight:20}})})},l=c(108),b=c(110),h=c(107),O=c(23),u=c(63),x=c(17),m=(c.p,n.a.createContext([])),f=function(){return Object(a.useContext)(m)};function g(e){var t=e.children,c=Object(a.useState)([]),n=Object(x.a)(c,2),i=n[0],r=n[1],s=Object(a.useState)([]),j=Object(x.a)(s,2),o=j[0],l=j[1],b=function(){return console.log(i),i.reduce((function(e,t){return e+t.quantity}),0)};return Object(d.jsx)(m.Provider,{value:{items:i,addItems:function(e,t){if(a=t.id,i.some((function(e){return e.id===a}))){var c=i.findIndex((function(e){return e.id===t.id}));i[c].quantity+=e,l(b+i[c].quantity)}else r([].concat(Object(u.a)(i),[Object(O.a)(Object(O.a)({},t),{},{quantity:e})])),l(b),console.log(i);var a},clear:function(){r([])},totalUnidades:o,cantidadUnidades:b,precioFinal:function(){return i.reduce((function(e,t){return e+t.price*t.quantity}),0)},deleteItem:function(e){r(i.filter((function(t){return t.id!==e}))),console.log(i)}},children:t})}var p=c(15),v=function(){var e=f(),t=e.items,c=e.cantidadUnidades;return Object(d.jsxs)(l.a,{bg:"dark",expand:"lg",variant:"dark",children:[Object(d.jsx)(p.b,{to:"/",children:Object(d.jsx)(l.a.Brand,{href:"#home",children:"Galeria Digital"})}),Object(d.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(d.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(d.jsxs)(b.a,{className:"mr-auto",children:[Object(d.jsx)(b.a.Link,{href:"#home",children:"Inicio"}),Object(d.jsx)(b.a.Link,{href:"#link",children:"Nosotros"}),Object(d.jsxs)(h.a,{title:"Categorias",id:"basic-nav-dropdown",children:[Object(d.jsx)(p.b,{to:"/category/oleo",children:Object(d.jsx)(h.a.Item,{href:"#action/3.1",children:"Oleos"})}),Object(d.jsx)(p.b,{to:"/category/serigrafia",children:Object(d.jsx)(h.a.Item,{href:"#action/3.2",children:"Serigrafias"})}),Object(d.jsx)(p.b,{to:"/category/grabado",children:Object(d.jsx)(h.a.Item,{href:"#action/3.3",children:"Grabados"})})]})]})}),Object(d.jsx)(p.b,{to:"/cart",children:t.length?Object(d.jsxs)("h3",{className:"text-white",children:[" ",c()," items en tu carrito - Ir a pagar"]}):Object(d.jsx)(o,{})})]})},y=c(111),I=function(e){var t=e.img,c=(e.cantidad,e.name),a=e.desc,n=e.price,i=e.id,r=e.category;return Object(d.jsx)(y.a,{className:"mt-5",children:Object(d.jsx)(y.a.Body,{children:Object(d.jsxs)(p.b,{to:"/item/".concat(i),children:[Object(d.jsx)(y.a.Img,{className:"img-fluid mt-5",src:t,style:{height:250},alt:"imagen"}),Object(d.jsxs)(y.a.Title,{children:[" ",c," - ",r," "]}),Object(d.jsxs)(y.a.Text,{children:[" ",a," "]}),Object(d.jsxs)(y.a.Text,{children:[" $ ",n," "]})]},i)})})},N=c(103),S=function(e){var t=e.productos;return Object(d.jsx)(N.a,{className:"mx-5",children:t.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(I,{id:e.id,img:e.img,name:e.name,desc:e.desc,price:e.price,cantidad:e.stock,category:e.category})},e.key)}))})},C=c.p+"static/media/spinner.cc049cab.gif",k=c(10),F=c(41),A=(c(56),F.a.initializeApp({apiKey:"AIzaSyCvJ8RoNTcCshOalfSzgYVqNjfvM2ilC_4",authDomain:"galeriaecommerce-a6b0a.firebaseapp.com",projectId:"galeriaecommerce-a6b0a",storageBucket:"galeriaecommerce-a6b0a.appspot.com",messagingSenderId:"676092334948",appId:"1:676092334948:web:31a450167e6f10138c6071"})),T=function(){return F.a.firestore(A)},q=c(104),w=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],i=t[1],r=Object(a.useState)(!1),s=Object(x.a)(r,2),j=(s[0],s[1]),o=Object(k.f)().categoryId;return Object(a.useEffect)((function(){j(!0);var e=T().collection("items");"undefined"==typeof o?e.get().then((function(e){0===e.size&&alert("No hay items");var t=e.docs.map((function(e){return Object(O.a)({id:e.id},e.data())}));i(t)})).catch((function(e){return console.log(e)})).finally((function(){return j(!1)})):e.where("categoryId","==",o).get().then((function(e){0===e.size&&alert("No hay items");var t=e.docs.map((function(e){return Object(O.a)({id:e.id},e.data())}));i(t)})).catch((function(e){return console.log(e)})).finally((function(){return j(!1)}))}),[]),Object(d.jsxs)(n.a.Fragment,{children:[Object(d.jsxs)(q.a,{children:[Object(d.jsx)("h1",{children:"Galeria Digital"}),Object(d.jsx)("p",{children:"Encuentre obras de arte de reconocidos artistas locales"}),Object(d.jsx)("p",{})]}),Object(d.jsx)("div",{children:c.length>0?Object(d.jsx)(S,{productos:c},c.id):Object(d.jsx)("img",{src:C})})]})},D=function(e){var t=e.items;console.log(t);Object(k.f)().id;return Object(d.jsxs)(y.a,{className:"text-center",children:[Object(d.jsxs)(y.a.Header,{className:"h3",children:["$ ",t.price]}),Object(d.jsxs)(y.a.Body,{children:[Object(d.jsx)(y.a.Title,{children:t.name}),Object(d.jsxs)(y.a.Text,{children:[t.desc," - ",t.category]}),Object(d.jsx)(p.b,{to:"/",children:"Volver a Inicio"})]}),Object(d.jsxs)(y.a.Footer,{className:"text-muted",children:["Stock de unidades: ",t.stock]}),Object(d.jsx)(y.a.Img,{src:t.img,style:{height:450,width:"auto"},className:"img-fluid mt-5 container",alt:"imagen"})]})},P=c(60),B=function(e){var t=e.sumar,c=e.restar,a=e.onAdd,i=e.itemSuma,r=e.disabledRestar,s=e.disabledSumar;return Object(d.jsxs)(n.a.Fragment,{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(P.a,{onClick:c,disabledRestar:r,variant:"outline-primary",className:"py-2 px-4 my-5",children:"-"}),Object(d.jsx)("span",{className:"mx-3 h3",children:i}),Object(d.jsx)(P.a,{onClick:t,disabledSumar:s,variant:"outline-danger",className:"py-2 px-4",children:"+"})]}),Object(d.jsx)("div",{className:"mb-5",children:Object(d.jsx)(P.a,{to:"/cart",onClick:function(){return a(i)},children:"A\xf1adir al carro"})})]})},z=function(e){var t=e.items,c=e.onAdd,n=Object(a.useState)(t.stock),i=Object(x.a)(n,2),r=i[0],s=i[1],j=Object(a.useState)(1),o=Object(x.a)(j,2),l=o[0],b=o[1],h=Object(a.useState)(!1),O=Object(x.a)(h,2),u=O[0],m=O[1],f=Object(a.useState)(!1),g=Object(x.a)(f,2),p=g[0],v=g[1];return Object(d.jsx)("div",{children:Object(d.jsx)(B,{onAdd:c,restar:function(){0===l?m(!0):(s(r+1),b(l-1))},sumar:function(){0===r?v(!0):(s((function(e){return e-1})),b(l+1))},itemSuma:l,totalStock:r,disabledRestar:u,disabledSumar:p})})},R=c.p+"static/media/spinner.cc049cab.gif",U=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],i=t[1],r=f().addItems,s=Object(k.f)().itemId,j=Object(a.useState)(!1),o=Object(x.a)(j,2),l=o[0],b=o[1];Object(a.useEffect)((function(){setTimeout((function(){b(!0)}),1e3),T().collection("items").doc(s).get().then((function(e){e.exists?(i(Object(O.a)({id:e.id,stock:e.stock-c.quantity},e.data())),console.log(c)):console.log("Item no existe")})).catch((function(e){console.log("error:",e)}))}),[]);return Object(d.jsx)(n.a.Fragment,{children:Object(d.jsx)("div",{children:l?Object(d.jsxs)("div",{children:[Object(d.jsx)(D,{items:c}),Object(d.jsx)(z,{items:c,onAdd:function(e){r(e,c)}})]}):Object(d.jsx)("img",{src:R})})})},E=c(105),J=function(){var e=f(),t=e.items,c=e.clear,a=e.precioFinal,i=e.deleteItem;return console.log(t),Object(d.jsx)(n.a.Fragment,{children:!t.length>0?Object(d.jsx)(p.b,{to:"/",children:Object(d.jsx)("h2",{"data-aos":"fade-right","data-aos-easing":"ease-in-out",children:"Carrito vacio - Ir a pagina principal"})}):Object(d.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,className:"container mt-5","data-aos":"fade-right","data-aos-easing":"ease-in-out",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{}),Object(d.jsx)("th",{children:"Descripcion"}),Object(d.jsx)("th",{children:"Articulo"}),Object(d.jsx)("th",{children:"Precio Unidad"}),Object(d.jsx)("th",{children:"Cantidad"}),Object(d.jsx)("th",{children:"Subtotal"})]})}),Object(d.jsx)("tbody",{children:t.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)(P.a,{onClick:function(){return i(e.id)},children:"Borrar Item"})}),Object(d.jsx)("td",{children:e.desc}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.price}),Object(d.jsx)("td",{children:e.quantity}),Object(d.jsx)("td",{children:e.quantity*e.price})]},e.id)}))}),Object(d.jsxs)("h2",{children:["Precio final: $",a()]}),Object(d.jsx)(P.a,{onClick:function(){return c()},style:{cursor:"pointer"},children:"Vaciar Carrito"}),Object(d.jsx)(p.b,{to:"/payment",className:"mt-5",children:"Realizar Pago"})]})})},L=c(45),$=c(109),G=c(106),V=c(61),_=function(e){var t=e.items,c=e.handleUser,a=e.precioFinal,n=e.submit,i=e.orderId,r=e.userInfo;return Object(d.jsxs)("div",{children:[Object(d.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,className:"container mt-5","data-aos":"fade-right","data-aos-easing":"ease-in-out",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{}),Object(d.jsx)("th",{children:"Descripcion"}),Object(d.jsx)("th",{children:"Articulo"}),Object(d.jsx)("th",{children:"Precio Unidad"}),Object(d.jsx)("th",{children:"Cantidad"}),Object(d.jsx)("th",{children:"Subtotal"})]})}),Object(d.jsx)("tbody",{children:t.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.desc}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.price}),Object(d.jsx)("td",{children:e.quantity}),Object(d.jsx)("td",{children:e.quantity*e.price})]},e.id)}))}),Object(d.jsxs)("h2",{children:["Precio final: $",a()]})]}),Object(d.jsxs)($.a,{className:"container mt-5",onChange:c,children:[Object(d.jsxs)(G.a,{children:[Object(d.jsx)(V.a,{children:Object(d.jsx)($.a.Control,{placeholder:"Nombre",type:"text",className:"mb-2",name:"nombre"})}),Object(d.jsx)(V.a,{children:Object(d.jsx)($.a.Control,{placeholder:"Apellido",type:"text",className:"mb-2",name:"apellido"})})]}),Object(d.jsx)(P.a,{className:"my-5",type:"submit",onClick:n,children:"Ingresa la Info"})]}),i&&Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:["Numero de orden: ",i]}),Object(d.jsxs)("li",{children:["Nombre: ",r.nombre]}),Object(d.jsxs)("li",{children:["Apellido: ",r.apellido]})]})]})},M=function(){var e=f(),t=e.items,c=e.precioFinal,n=Object(a.useState)({}),i=Object(x.a)(n,2),r=i[0],s=i[1],j=Object(a.useState)(""),o=Object(x.a)(j,2),l=o[0],b=o[1];return Object(d.jsx)("div",{children:Object(d.jsx)(_,{items:t,precioFinal:c,handleUser:function(e){s(Object(O.a)(Object(O.a)({},r),{},Object(L.a)({},e.target.name,e.target.value)))},submit:function(e){e.preventDefault();var a=T().collection("orders"),n={buyer:r,items:t,total:c(),date:F.a.firestore.Timestamp.fromDate(new Date)};a.add(n).then((function(e){var t=e.id;b(t)}))},orderId:l,userInfo:r})})};var H=function(){return Object(d.jsx)(p.a,{children:Object(d.jsx)(g,{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{children:Object(d.jsx)(v,{})}),Object(d.jsx)(k.c,{children:Object(d.jsxs)("main",{children:[Object(d.jsx)(k.a,{path:"/item/:itemId",children:Object(d.jsx)(U,{})}),Object(d.jsx)(k.a,{path:"/category/:categoryId",children:Object(d.jsx)(w,{})}),Object(d.jsx)(k.a,{path:"/cart",children:Object(d.jsx)(J,{})}),Object(d.jsx)(k.a,{path:"/payment",children:Object(d.jsx)(M,{})}),Object(d.jsx)(k.a,{exact:!0,path:"/",children:Object(d.jsx)(w,{greetingProp:"Bienvenidos al E-commerce con ReactJS"})})]})})]})})})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,112)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),i(e),r(e)}))},Y=(c(83),c(62)),Q=c.n(Y);c(84);Q.a.init(),r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(H,{})}),document.getElementById("root")),K()}},[[86,1,2]]]);
//# sourceMappingURL=main.ba528c7d.chunk.js.map